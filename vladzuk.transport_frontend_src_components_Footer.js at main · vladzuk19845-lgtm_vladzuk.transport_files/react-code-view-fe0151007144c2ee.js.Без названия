performance.mark("js-parse-end:react-code-view-fe0151007144c2ee.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["8145"],{29128(e,t,n){n.d(t,{P:()=>s});var r=n(32764),o=n(32089),l=n(2428),a=n(96540),i=n(43546);function s(e){let t=(0,l.B)(),n=e||t,s=(0,a.useRef)(n),c=(0,o.q)();if(n)s.current=n;else{let e=(0,r.n7E)(location.pathname,s.current.refInfo.name,s.current.path);n=(0,i.Bl)(s.current,c,e)}return n}},43546(e,t,n){n.d(t,{Bl:()=>l,aO:()=>o});var r=n(9364);function o(e){return(0,r.H)(e)?{...e.fileTree,[e.path]:{items:e.tree.items,totalCount:e.tree.totalCount}}:e.fileTree}function l(e,t,n){return{path:n,repo:e.repo,refInfo:e.refInfo,currentUser:e.currentUser,fileTree:o(e),fileTreeProcessingTime:e.fileTreeProcessingTime,foldersToFetch:e.foldersToFetch,allShortcutsEnabled:e.allShortcutsEnabled,treeExpanded:e.treeExpanded,symbolsExpanded:e.symbolsExpanded,codeLineWrapEnabled:e.codeLineWrapEnabled,isMarketplaceEnabled:e.isMarketplaceEnabled,error:t||void 0}}},88117(e,t,n){var r=n(1757),o=n(69329),l=n(36495),a=n(74848),i=n(50038),s=n(85970),c=n(4045),d=n(22625),u=n(68216),h=n(75474),p=n(12436),m=n(18888),f=n(15751),b=n(29128),w=n(43546);function x(e){return"editInfo"in e&&"webCommitInfo"in e}var g=n(36991),E=n(65599),v=n(9364),I=n(70516),T=n(53475),j=n(98632),C=n(79008),y=n(21765),S=n(88327),k=n(87555),N=n(94709),A=n(96540),F=n(32899),O=n(96679),R=n(96881),_=n(96251),B=n(79437),M=n(87844),P=n(15595),z=n(13264),q=n(82943),D=n(84985),L=n(21654),W=n(34898),Q=n(46481),G=n(45050);let V=(0,A.lazy)(()=>Promise.all([n.e("90225"),n.e("15272"),n.e("67985"),n.e("61110"),n.e("12287"),n.e("39692"),n.e("72608"),n.e("43540"),n.e("51210"),n.e("83843"),n.e("54479"),n.e("93859"),n.e("16424"),n.e("11483"),n.e("1141"),n.e("73046"),n.e("23262"),n.e("56943"),n.e("775"),n.e("63951"),n.e("97426")]).then(n.bind(n,53623)));function H({initialPayload:e}){let t=(0,b.P)(e);return(0,a.jsx)(U,{payload:t,isDataRouter:!1})}function U({payload:e,isDataRouter:t=!0}){let n,r=(0,I.t)(),{findFileWorkerPath:o}=(0,h.sq)(),{path:l}=e,b=(0,f.p)(e.refInfo),H=x(e),U=(0,g.m)(e),$=(0,g.K)(e),X=(0,E.i)(e),[Z,K]=(0,A.useState)(null),Y=(0,L.U6)(r,b,l,e.error?.httpStatus===404),J=(0,D.TX)(r,b,l,e.error?.httpStatus===404,U||$?e.blob.rawLines?.length??1e5:1e5),ee=A.useRef(null),et=A.useRef(!1),en=A.useRef(!1),er=A.useRef(null),eo=A.useRef(null),el="repos-file-tree",ea=A.useRef(void 0),[ei,es]=(0,A.useState)(""),{toggleFocusedPaneShortcut:ec}=(0,m.wk)();(0,y.t)(),(0,S.L)(!0);let ed=A.useMemo(()=>(0,w.aO)(e),[e.path,e.refInfo.currentOid]),eu=(0,A.useCallback)(e=>{(0,Q.Q)(e,null,null)},[]),{isTreeExpanded:eh,collapseTree:ep,expandTree:em,treeToggleElement:ef,treeToggleRef:eb,searchBoxRef:ew}=(0,T.qn)(el,ea,e.treeExpanded,G.wQ,eu),ex=(0,A.useCallback)(()=>{window.innerWidth<j.Gy.large&&ep({focus:null})},[ep]),[eg,eE]=(0,A.useState)(!0);(0,A.useEffect)(()=>{if(!window.location.hash&&window.scrollY>0){let e=document.querySelector("#StickyHeader");e&&(e.style.position="relative",e.scrollIntoView(),e.style.position="sticky")}},[e.path]);let{codeCenterOption:ev}=(0,C.ud)(),eI=A.useCallback(()=>{window.innerWidth<j.Gy.large&&em({focus:"search"})},[em]);return n=H?e.editInfo.isNewFile?"new":"edit":$?"blame":U?"blob":"tree",(0,a.jsx)(L.mD,{...Y,children:(0,a.jsx)(D.Zj,{...J,children:(0,a.jsx)(h.qV,{refInfo:b,path:l,action:n,copilotAccessAllowed:e.copilotAccessAllowed??!1,copilotSpacesEnabled:e.copilotSpacesEnabled??!1,modelsAccessAllowed:e.modelsAccessAllowed??!1,modelsRepoIntegrationEnabled:e.modelsRepoIntegrationEnabled??!1,isMarketplaceEnabled:e.isMarketplaceEnabled,children:(0,a.jsx)(c.$,{allShortcutsEnabled:e.allShortcutsEnabled,children:(0,a.jsxs)(T.Nq,{children:[(0,a.jsx)(z.U,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)(u.Ck,{children:(0,a.jsx)(p.cD,{payload:e,openPanelRef:ea,children:(0,a.jsxs)(k.O7,{children:[(0,a.jsx)(N.az,{ref:ee,tabIndex:0,sx:{width:["100%","100%","auto"]},children:(0,a.jsx)(T.c2,{id:el,repo:r,path:l,isFilePath:U||H||X,refInfo:b,collapseTree:ep,showTree:eh,fileTree:ed,onItemSelected:ex,processingTime:e.fileTreeProcessingTime,treeToggleElement:ef,treeToggleRef:eb,searchBoxRef:ew,foldersToFetch:e.foldersToFetch,incompleteFileTree:e.incompleteFileTree,onFindFilesShortcut:eI,textAreaId:G.wQ,findFileWorkerPath:o,headerContent:(0,a.jsxs)(N.az,{sx:{display:"flex",width:"100%",mb:3,alignItems:"center"},children:[eh&&ef,(0,a.jsx)(N.DZ,{as:"h2",sx:{fontSize:2,ml:2},children:"Files"})]})})}),(0,a.jsx)(k.O7.Content,{as:"div",padding:"none",width:ev.enabled?"xlarge":"full",hidden:{narrow:eh},children:(0,a.jsx)(N.az,{sx:{marginLeft:"auto",marginRight:"auto",flexDirection:"column",pb:6,maxWidth:"100%",mt:0},ref:K,"data-selector":"repos-split-pane-content",tabIndex:0,children:(0,a.jsx)(W.w,{searchTerm:ei,setSearchTerm:es,isBlame:$,children:(0,a.jsxs)(d.lG,{children:[(0,a.jsx)(N.az,{sx:{display:H?"none":"inherit"},children:(0,a.jsx)(P.Ay,{payload:e,showTree:eh,treeToggleElement:ef,validCodeNav:eg,onFindFilesShortcut:eI})}),e.error?(0,a.jsx)(i.D,{...e.error}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.az,{className:"react-code-view-bottom-padding",sx:{mx:3},children:(0,a.jsx)(_.Ay,{payload:e})}),(0,a.jsx)(N.az,{sx:{mx:3},children:(0,v.H)(e)?(0,a.jsx)(M.A,{tree:e.tree,showTree:eh,treeToggleElement:ef}):x(e)?(0,a.jsx)(A.Suspense,{fallback:(0,a.jsx)(q.f,{}),children:(0,a.jsx)(V,{collapseTree:ep,editInfo:e.editInfo,repo:e.repo,showTree:eh,treeToggleElement:ef,webCommitInfo:e.webCommitInfo,copilotInfo:e.copilotInfo,copilotGenerateCommitMessageAuthInfo:e.copilotGenerateCommitMessageAuthInfo,isDataRouter:t},`${e.path}_${e.editInfo.fileName}_${e.editInfo.isNewFile}`)}):U?(0,a.jsx)(R.C,{blame:e.blame,blob:e.blob,symbolsExpanded:e.symbolsExpanded,searchTerm:ei,setSearchTerm:es,setValidCodeNav:eE,showTree:eh,treeToggleElement:ef,validCodeNav:eg,copilotInfo:e.copilotInfo}):X?(0,a.jsx)(B.k,{deleteInfo:e.deleteInfo,webCommitInfo:e.webCommitInfo}):null})]})]})})})})]})})}),(0,a.jsx)(O.t,{}),(0,a.jsx)(s._,{buttonFocusId:G.wQ,buttonHotkey:ec.hotkey,onButtonClick:()=>(function(){let e=document.getElementById(F.MC),t=document.getElementById(G.wQ);if(document.activeElement?.id===G.wQ&&(en.current=!0),Z?.contains(document.activeElement)&&!en.current?et.current=!0:ee.current?.contains(document.activeElement)&&(et.current=!1),et.current||en.current)if(en.current){let t=er.current||e||Z;et.current=!0,en.current=!1,t?.focus()}else{let e=eo.current||ee.current;er.current=Z?.contains(document.activeElement)?document.activeElement:null,et.current=!1,en.current=!1,e?.focus()}else{let e=t||Z;eo.current=ee.current?.contains(document.activeElement)?document.activeElement:null,et.current=!1,e?.focus()}})()})]})]})})})})})}V.displayName="BlobEditor",H.displayName="CodeViewEntrypoint",U.displayName="CodeViewLegacy",(0,o.o)("react-code-view",()=>({App:l.q,routes:[(0,r.a)({path:"/:owner/:repo/tree/:branch/:path/*",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/blob/:branch/:path/*",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/blame/:branch/:path/*",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/edit/:branch/:path/*",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/new/:branch/:path/*",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/new/:branch/*",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/tree/delete/:branch/:path/*",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/delete/:branch/:path/*",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo",Component:H,shouldNavigateOnError:!0}),(0,r.a)({path:"/:owner/:repo/tree/:branch/*",Component:H,shouldNavigateOnError:!0})]}))},82579(e,t,n){n.d(t,{A:()=>l});var r=n(16522),o=n(96540);function l(){let e,t,n,l=(0,r.c)(3),a=(0,o.useRef)(!1);l[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>a.current,l[0]=e):e=l[0];let i=e;return l[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(a.current=!0,()=>{a.current=!1}),n=[],l[1]=t,l[2]=n):(t=l[1],n=l[2]),(0,o.useLayoutEffect)(t,n),i}},74755(e,t,n){n.d(t,{X:()=>i});var r=n(16522),o=n(96540);function l(){return()=>{}}function a(){return!1}function i(e){let t,n=(0,r.c)(2);return n[0]!==e?(t=()=>{let t=function(){if("u"<typeof navigator);else if(/Windows/.test(navigator.userAgent))return"windows";else if(/Macintosh/.test(navigator.userAgent))return"mac";return null}();return null!==t&&e.includes(t)},n[0]=e,n[1]=t):t=n[1],(0,o.useSyncExternalStore)(l,t,a)}}},function(e){e.O(0,["10870","11667","13465","14839","15325","19762","23270","2966","32769","34201","41013","437","46376","49863","50343","53003","55821","59660","6102","67894","6933","69395","7053","72503","7463","7542","77691","78602","78967","81482","83465","84085","90225","93936","94240","97083","98131","99028","99056"],function(){return e(e.s=88117)}),e.O()}]);
//# sourceMappingURL=react-code-view-fe0151007144c2ee-217b94c18ebfd19f.js.map