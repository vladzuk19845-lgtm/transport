performance.mark("js-parse-end:921-22cfa3f9fcddb2bc.js");
"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["921"],{81253(e,a,t){t.d(a,{d:()=>ez});var r=t(74848),l=t(36523),i=t(45596),s=t(26108),o=t(18990),n=t(94709),d=t(39081),c=t(57919),h=t(72098),u=t(3803),p=t(38621),m=t(9652),b=t(96540);let C=(0,b.createContext)({}),y=({children:e})=>{let{size:a}=(0,b.use)(C);return"sparkline"!==a?(0,r.jsx)(r.Fragment,{children:e}):null};y.displayName="LeadingVisual";var g=t(37364),v=t(34164);function x(e){switch(typeof e){case"string":case"number":return e.toString();case"object":if(Array.isArray(e))return e.map(x).join("");if(null!==e&&"props"in e)return x(e.props.children);return"";default:return""}}let f=({as:e="h3",sx:a,children:t,className:l})=>{let{setTitle:i,size:s}=(0,b.use)(C);return(0,b.useEffect)(()=>{i(x(t))},[i,t]),"sparkline"!==s?(0,r.jsx)(n.DZ,{as:e,sx:a,className:(0,v.$)(l,"Title-module__ChartCardTitleHeading__IFTkcbP"),children:t}):null};f.displayName="Title";let S=({sx:e,children:a,className:t})=>{let{setDescription:l,size:i}=(0,b.use)(C);return(0,b.useEffect)(()=>{l(x(a))},[l,a]),"sparkline"!==i?(0,r.jsx)(n.EY,{sx:e,className:(0,v.$)(t,"Description-module__ChartCardDescriptionText__eQN_NWt"),children:a}):null};S.displayName="Description";let _=({children:e})=>{let{size:a}=(0,b.use)(C);return"sparkline"!==a?(0,r.jsx)(r.Fragment,{children:e}):null};_.displayName="TrailingVisual";var k=t(14783),D=t.n(k),w=t(65006),j=t.n(w),A=t(22421),N=t.n(A),L=t(20535),$=t.n(L),O=t(9264),z=t.n(O),M=t(84834),T=t.n(M),V=t(55357),B=t.n(V),R=t(85316),W=t.n(R);let F={ChartCardDialogBody:"ChartCard-module__ChartCardDialogBody__RrIemv5",ChartCardHeaderContainer:"ChartCard-module__ChartCardHeaderContainer__i9xp1kB",ChartCardContentContainer:"ChartCard-module__ChartCardContentContainer__Ww4YJZi",ChartCardLeadingVisualContainer:"ChartCard-module__ChartCardLeadingVisualContainer__oQEvsya",ChartCardActionsContainer:"ChartCard-module__ChartCardActionsContainer__vORFjXW",ChartCardTableContainer:"ChartCard-module__ChartCardTableContainer__TzNXhRx","-table":"ChartCard-module__-table__azg9xze","-table-header":"ChartCard-module__-table-header__uyHFLRm","-table-cell":"ChartCard-module__-table-cell__w5qPKZC",ChartCardSymbol:"ChartCard-module__ChartCardSymbol__bcPk3TF","ChartCardSymbol-circle":"ChartCard-module__ChartCardSymbol-circle__If0VS0r","ChartCardSymbol-square":"ChartCard-module__ChartCardSymbol-square__rTcKZWN","ChartCardSymbol-diamond":"ChartCard-module__ChartCardSymbol-diamond__Xq67FSk","ChartCardSymbol-triangle":"ChartCard-module__ChartCardSymbol-triangle__svrjNqd","ChartCardSymbol-triangle-down":"ChartCard-module__ChartCardSymbol-triangle-down__ydiPvQk"},I=["Solid","ShortDash","Dot","DashDot","LongDash","ShortDashDotDot","ShortDot","LongDashDot","Dash","ShortDashDot","LongDashDotDot"],P=["circle","square","diamond","triangle","triangle-down"],H=e=>"datetime"===e?"{value:%b %e}":void 0,E=({xAxis:e,gridLineDashStyle:a,gridLineWidth:t})=>{if(void 0===e)return;let r=e.title;return{gridLineWidth:t,...e,labels:{format:H(e.type),...e.labels},title:{text:r},gridLineDashStyle:a}},q=({yAxis:e,gridLineDashStyle:a,gridLineWidth:t})=>{if(void 0===e)return;let r=Array.isArray(e)?e:[e],l=1===r.length;return r.map(e=>{let r=e.title;return{gridLineWidth:l?t:0,...e,labels:{format:H(e.type),...e.labels},title:{text:r},gridLineDashStyle:a}})},G=({series:e,type:a,hasDashStyle:t=!0})=>(e??[]).map((e,r)=>{let l=I[r%I.length];return{type:a,dashStyle:t?l:"Solid",marker:{symbol:P[r%P.length]},...e}}),J=({plotOptions:e,marker:a,labels:t,stacking:r,noBorderRadius:l=!1})=>({series:{...e,marker:{enabled:a??!1},dataLabels:{enabled:t??!1},lineWidth:2,borderWidth:1.5,stacking:r??void 0,borderRadius:l?0:void 0}}),Z=({color:e,borderColor:a,borderShape:t,symbol:r})=>{let l,i=a&&!r.startsWith("triangle")?`border: 1px ${t??"solid"} ${a};`:void 0;if(e&&"object"==typeof e&&"stops"in e){let a=e.stops.map(e=>{let a=e[0],t=e[1];return`${t} ${100*a}%`}).join(", ");l=`background: linear-gradient(0deg, ${a});
        ${i??""}`}else l=`background-color: ${"string"==typeof e?e:"#000"};
      ${i??""}`;return l},K={Solid:"solid",ShortDash:"dashed",Dot:"dotted"},U={tickWidth:0,lineWidth:0,gridLineColor:"var(--borderColor-muted)",gridLineDashStyle:"Dash",lineColor:"var(--borderColor-default)",stackLabels:{style:{color:"var(--fgColor-default)",fontSize:"var(--text-body-size-small)",textOutline:"1px var(--bgColor-default)"}},labels:{style:{color:"var(--fgColor-muted)",fontSize:"var(--text-body-size-small)"}},title:{style:{color:"var(--fgColor-muted)",fontSize:"var(--text-body-size-small)"}}},X={accessibility:{keyboardNavigation:{order:["legend","series"]}},colors:["var(--data-blue-color-emphasis, var(--data-blue-color))","var(--data-green-color-emphasis, var(--data-green-color))","var(--data-orange-color-emphasis, var(--data-orange-color))","var(--data-pink-color-emphasis, var(--data-pink-color))","var(--data-yellow-color-emphasis, var(--data-yellow-color))","var(--data-red-color-emphasis, var(--data-red-color))","var(--data-purple-color-emphasis, var(--data-purple-color))","var(--data-auburn-color-emphasis, var(--data-auburn-color))","var(--data-teal-color-emphasis, var(--data-teal-color))","var(--data-gray-color-emphasis, var(--data-gray-color))"],caption:{align:"left",style:{color:"var(--fgColor-muted)"},verticalAlign:"top"},title:{align:"left",style:{color:"var(--fgColor-default)"},text:void 0},tooltip:{backgroundColor:"var(--bgColor-default)",borderRadius:6,borderColor:"var(--borderColor-muted)",borderWidth:1,shape:"rect",padding:10,shadow:{offsetX:2,offsetY:2,opacity:.02,width:4,color:"var(--shadowColor-default)"},style:{color:"var(--fgColor-default)",fontFamily:"var(--fontStack-sansSerif)",fontSize:"var(--text-body-size-small)"},useHTML:!0,headerFormat:'<table style="min-width: 120px;"><tr><th colspan="3" style="color:var(--fgColor-muted, var(--color-fg-muted)); font-weight:var(--base-text-weight-semibold); padding-bottom:2px;">{point.key}</th></tr>',pointFormatter:function(){let e=this.series?.chart?.options?.chart?.type,a=this.series?.options?.marker?.symbol??("column"===e||"bar"===e?"square":"circle"),t=this.series?.options?.dashStyle,r=t&&("column"===e||"bar"===e)?K[t]:void 0,l=this.options?.borderColor??this.series?.options?.borderColor,i=Z({color:this.color,borderColor:l,borderShape:r,symbol:a}),s=`ChartCardSymbol-${a}`;return`<tr><td style="padding-top:var(--base-size-4)"><span class="${F.ChartCardSymbol} ${F[s]}" style="${i}"></span> ${this.series.name}</td><td style="text-align: right; padding-top:var(--base-size-4);"><strong>${this.y}</strong></td></tr>`},footerFormat:"</table>"},credits:{enabled:!1},chart:{animation:!1,events:{afterA11yUpdate(){let e=this.container;e?.setAttribute("role","application")}},spacing:[4,0,4,0],backgroundColor:"var(--bgColor-default, var(--color-canvas-default))",style:{fontFamily:"var(--fontStack-sansSerif)",fontSize:"var(--text-body-size-small)",color:"var(--fgColor-default)"}},legend:{itemStyle:{fontSize:"var(--text-body-size-small)",font:"var(--fontStack-sansSerif)",color:"var(--fgColor-default)"},align:"left",verticalAlign:"top",x:-8,y:-12,itemHoverStyle:{color:"var(--fgColor-default)"},title:{style:{color:"var(--fgColor-default)"}}},navigation:{buttonOptions:{enabled:!1}},exporting:{fallbackToExportServer:!1},plotOptions:{series:{animation:!1},spline:{animation:!1},bar:{borderColor:"var(--bgColor-default)"},column:{borderColor:"var(--bgColor-default)"}},xAxis:{tickWidth:0,lineWidth:1,gridLineColor:"var(--borderColor-muted)",gridLineDashStyle:"Dash",lineColor:"var(--borderColor-default)",labels:{style:{color:"var(--fgColor-muted)",fontSize:"var(--text-body-size-small)"}},title:{style:{color:"var(--fgColor-muted)",fontSize:"var(--text-body-size-small)"}}},yAxis:[U]};var Y=t(30107);function Q(e){if(e)return new Intl.DateTimeFormat("sv-SE",{timeZone:"UTC"}).format(new Date(e))}N()(D()),$()(D()),z()(D()),T()(D()),B()(D()),N()(j()),$()(j()),z()(j()),T()(j()),function(){let e=D().getOptions().accessibility?.series?.pointDescriptionEnabledThreshold;for(let a of[j(),D()])a.wrap(a.Point.prototype,"highlight",function(t,...r){let l=t.apply(this,r),i=this.series.chart.userOptions.accessibility?.series?.pointDescriptionEnabledThreshold||e;if(i&&"number"==typeof i&&this.series.data.length>i){let e=a.SeriesAccessibilityDescriber.defaultPointDescriptionFormatter(this);(0,Y.i)(e,{assertive:!0})}return l})}(),D().AST.allowedAttributes.push("data-hovercard-url"),D().AST.allowedAttributes.push("data-hovercard-type"),function(){for(let e of[j(),D()])e.wrap(e.Chart.prototype,"getDataRows",function(e,a){let t=e.call(this,a),r=this.xAxis[0]?.min,l=this.xAxis[0]?.max;return r&&l&&(t=t.filter(function(e){return"number"!=typeof e.x||e.x>=r&&e.x<=l})),t})}(),D().setOptions({lang:{decimalPoint:".",thousandsSep:","}}),j().setOptions({lang:{decimalPoint:".",thousandsSep:","}});let ee={xl:"432px",large:"320px",medium:"256px",small:"128px",sparkline:"128px"},ea=({type:e="line",xAxisTitle:a,yAxisTitle:t,useUTC:l=!0,showRangeSelector:i=!1,dataGrouping:s=!1,colors:o,plotOptions:n,series:d,xAxisOptions:c,yAxisOptions:h,tooltipOptions:u,overrideOptionsNotRecommended:p})=>{let{title:m,size:y,chartRef:v}=(0,b.use)(C),x=(0,b.useMemo)(()=>o,[o]),f=(0,b.useMemo)(()=>n,[n]),S=(0,b.useMemo)(()=>d,[d]),_=(0,b.useMemo)(()=>c??[],[c]),k=(0,b.useMemo)(()=>h??[],[h]),w=(0,b.useMemo)(()=>u,[u]),A=(0,b.useMemo)(()=>p,[p]),N=S.length>1&&"sparkline"!==y,L=S.length>3,$=f&&function e(a,t,r){if("object"!=typeof a||null===a)return!1;if(a[t]===r)return!0;for(let l in a)if(void 0!==a[l])return e(a[l],t,r);return!1}(f,"stacking","normal"),O=i||s?"stockChart":"chart",z=(0,b.useMemo)(()=>Array.isArray(k)?k:[k],[k]),M=(0,b.useMemo)(()=>"stockChart"===O?j():D(),[O]),T=(0,b.useMemo)(()=>{let r=(0,g.A)({},X,{accessibility:{...L?{keyboardNavigation:{order:["series","legend"]}}:{},...m?{screenReaderSection:{beforeChartFormat:"<div>{typeDescription}</div><div>{chartSubtitle}</div><div>{chartLongdesc}</div><div>{playAsSoundButton}</div><div>{viewTableButton}</div><div>{xAxisDescription}</div><div>{yAxisDescription}</div><div>{annotationsTitle}{annotationsList}</div>"}}:{}},chart:{type:e,height:"number"==typeof y?y:ee[y],events:{render(){i&&window.setTimeout(()=>{let[e,a]=Array.from(v.current?.container.current?.querySelectorAll(".highcharts-a11y-proxy-group-navigator input[type=range]")||[]),{dataMin:t,dataMax:r,min:l,max:i}=this.xAxis?.[0]||{};e&&a&&void 0!==t&&void 0!==r&&void 0!==l&&void 0!==i&&(e.setAttribute("aria-label","Start of selected range"),e.setAttribute("aria-valuemin",t.toString()),e.setAttribute("aria-valuemax",r.toString()),e.setAttribute("aria-valuenow",l.toString()),a.setAttribute("aria-label","End of selected range"),a.setAttribute("aria-valuemin",t.toString()),a.setAttribute("aria-valuemax",r.toString()),a.setAttribute("aria-valuenow",i.toString()));let s=Q(l),o=Q(i);e&&a&&s&&o&&(e.setAttribute("aria-valuetext",s),a.setAttribute("aria-valuetext",o))},0)}}},time:{useUTC:l},colors:x,exporting:{chartOptions:{title:{text:m}},filename:m,csv:{dateFormat:"%Y-%m-%d"}},lang:{accessibility:{chartContainerLabel:m?`${m}. Interactive chart.`:"Interactive chart.",navigator:{groupLabel:`${m} Axis zoom`}}},legend:{enabled:N,symbolRadius:"column"===e||"bar"===e?0:void 0,...L?{align:"right",layout:"vertical",verticalAlign:"middle"}:{}},plotOptions:(0,g.A)({},X.plotOptions,{series:{marker:{enabled:"sparkline"!==y&&"spline"!==e},enableMouseTracking:"sparkline"!==y}},f),series:S,tooltip:(0,g.A)({},{enabled:"sparkline"!==y,shared:$},w),xAxis:(0,g.A)({},{visible:"sparkline"!==y,gridLineWidth:+("sparkline"!==y),title:{text:"sparkline"!==y?a:void 0}},_),yAxis:z.map(e=>{if(e)return(0,g.A)({},U,{visible:"sparkline"!==y,gridLineWidth:+("sparkline"!==y),title:{text:"sparkline"!==y?t:void 0}},e)}),...i?{rangeSelector:{enabled:!0,inputEnabled:!1,buttons:[],dropdown:"never"}}:{}},A);if(i&&r.accessibility&&r.accessibility.keyboardNavigation&&(r.accessibility.keyboardNavigation.order=[...r.accessibility?.keyboardNavigation?.order??[],"navigator"]),r.series&&r.colors){let e=0,a=[];for(let t of r.series)if("areaspline"===t.type||"area"===t.type){let l;t.color?l=t.color:(l=r.colors[e],e++),t.fillColor||(t.fillColor={linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,`color-mix(in srgb, ${l} 25%, transparent)`],[1,`color-mix(in srgb, ${l} 1%, transparent)`]]}),a.push(t),e>r.colors.length-1&&(e=0)}else a.push(t);r.series=a}return r},[e,a,t,l,i,m,y,N,L,$,v,x,f,S,w,_,z,A]);return(0,r.jsx)(W(),{constructorType:O,highcharts:M,ref:v,options:T})};ea.displayName="Chart";let et={auburn:"--display-auburn-scale-6",blue:"--display-blue-scale-4",brown:"--display-brown-scale-5",coral:"--display-coral-scale-5",cyan:"--display-cyan-scale-5",gray:"--display-gray-scale-5",green:"--display-green-scale-4",indigo:"--display-indigo-scale-7",lemon:"--display-lemon-scale-4",lime:"--display-lime-scale-4",olive:"--display-olive-scale-5",orange:"--display-orange-scale-4",pine:"--display-pine-scale-5",pink:"--display-pink-scale-5",plum:"--display-plum-scale-7",purple:"--display-purple-scale-5",red:"--display-red-scale-6",teal:"--display-teal-scale-4",yellow:"--display-yellow-scale-4"};var er=t(9907),el=t(90288);let ei="CustomizationDialog-module__ChartCardDialogBody__G3VHoZq",es="CustomizationDialog-module__ChartCardDialogRow__ZpISpv0",eo="CustomizationDialog-module__ChartCardDialogColGrow__fn3Fmpl",en="CustomizationDialog-module__ChartCardDialogSwitchLabel__U5UppWt",ed="CustomizationDialog-module__ChartCardDialogSwitchCaption__iRmRes9",ec="chart-card-increased-contrast",eh="chart-card-line-style",eu="chart-card-line-data-labels",ep="chart-card-column-data-labels",em=({type:e})=>{let[a,t]=(0,er.M)(ep,!1),[l,i]=(0,er.M)(ec,!1),[s,o]=(0,er.M)(eh,!0),[n,d]=(0,er.M)(eu,!1);return"ColumnChart"===e?(0,r.jsxs)("div",{className:ei,children:[(0,r.jsxs)("div",{className:es,children:[(0,r.jsxs)("div",{className:eo,children:[(0,r.jsx)("h2",{className:en,id:"switchLabelIncreaseContrast",children:"Increase Contrast"}),(0,r.jsx)("span",{className:ed,id:"switchCaptionIncreaseContrast",children:"Adds gradients and outlines to increase contrast in charts."})]}),(0,r.jsx)(el.A,{size:"small","aria-labelledby":"switchLabelIncreaseContrast","aria-describedby":"switchCaptionIncreaseContrast",checked:l,onClick:()=>{i(!l)}})]}),(0,r.jsxs)("div",{className:es,children:[(0,r.jsxs)("div",{className:eo,children:[(0,r.jsx)("h2",{className:en,id:"switchLabelColumnDataLabels",children:"Show data labels"}),(0,r.jsx)("span",{className:ed,id:"switchCaptionColumnDataLabels",children:"Show labels for each data point in column and bar charts."})]}),(0,r.jsx)(el.A,{size:"small","aria-labelledby":"switchLabelColumnDataLabels","aria-describedby":"switchCaptionColumnDataLabels",checked:a,onClick:()=>{t(!a)}})]})]}):(0,r.jsxs)("div",{className:ei,children:[(0,r.jsxs)("div",{className:es,children:[(0,r.jsxs)("div",{className:eo,children:[(0,r.jsx)("h2",{className:en,id:"switchLabelLineStyle",children:"Differentiate by line style"}),(0,r.jsx)("span",{className:ed,id:"switchCaptionLineStyle",children:"Use unique line styles (dashed, dotted, etc.) to differentiate lines in charts."})]}),(0,r.jsx)(el.A,{size:"small","aria-labelledby":"switchLabelLineStyle","aria-describedby":"switchCaptionLineStyle",checked:s,onClick:()=>{o(!s)}})]}),(0,r.jsxs)("div",{className:es,children:[(0,r.jsxs)("div",{className:eo,children:[(0,r.jsx)("h2",{className:en,id:"switchLabelLineDataLabels",children:"Show data labels"}),(0,r.jsx)("span",{className:ed,id:"switchCaptionLineDataLabels",children:"Show labels for each data point in line chart."})]}),(0,r.jsx)(el.A,{size:"small","aria-labelledby":"switchLabelLineDataLabels","aria-describedby":"switchCaptionLineDataLabels",checked:n,onClick:()=>{d(!n)}})]})]})};em.displayName="DialogContentBody";let eb=({chartType:e,onCloseCallback:a})=>e&&(0,r.jsx)(d.l,{title:["column","bar"].includes(e)?"Column & bar chart settings":"Line chart settings",onClose:a,renderBody:()=>(0,r.jsx)(em,{type:["column","bar"].includes(e)?"ColumnChart":"LineChart"})});eb.displayName="CustomizationDialog";let eC={green:et.green,blue:et.blue,olive:et.olive,indigo:et.indigo,teal:et.teal,orange:et.orange,yellow:et.yellow,red:et.red,pink:et.pink,plum:et.plum,purple:et.purple},ey=({type:e,options:a,series:t,marker:l,labels:i,...s})=>{let{xAxis:o,yAxis:n,plot:d}=a??{},[c]=(0,er.M)(eh,!0),[h]=(0,er.M)(eu,void 0),u=E({xAxis:o,gridLineDashStyle:"Solid"}),p=q({yAxis:n,gridLineDashStyle:"Solid"}),m=G({series:t?.map((e,a)=>{let t=Object.keys(eC),r=t[a%t.length];return{...e,color:e.color?`var(${et[e.color]})`:r?`var(${eC[r]})`:void 0}}),type:e,hasDashStyle:c}),b=J({plotOptions:d,marker:l,labels:h??i});return m.length,(0,r.jsx)(ea,{type:e,xAxisOptions:u,yAxisOptions:p,series:m,plotOptions:b,...s})};ey.displayName="BaseLineChart";let eg=e=>(0,r.jsx)(ey,{...e,type:"line"});eg.displayName="LineChart";let ev=e=>(0,r.jsx)(ey,{...e,type:"spline"});ev.displayName="SplineChart";let ex={green:et.green,teal:et.teal,blue:et.blue,indigo:et.indigo,orange:et.orange},ef={green:"--display-green-scale-0",teal:"--display-teal-scale-0",blue:"--display-blue-scale-0",indigo:"--display-indigo-scale-0",orange:"--display-orange-scale-0"},eS=({type:e,options:a,series:t,stacking:l="normal",marker:i,labels:s,...o})=>{let{xAxis:n,yAxis:d,plot:c}=a??{},[h]=(0,er.M)(eh,!0),[u]=(0,er.M)(eu,void 0),p=E({xAxis:n,gridLineDashStyle:"Solid"}),m=q({yAxis:d,gridLineDashStyle:"Solid"}),b=G({series:t?.map((e,a)=>{let t=Object.keys(ex).filter(Boolean),r=t[a%t.length];return{...e,color:e.color?`var(${et[e.color]})`:r?`var(${ex[r]})`:void 0,fillColor:e.color?void 0:r?`var(${ef[r]})`:void 0}}),type:e,hasDashStyle:h}),C=J({plotOptions:c,marker:i,labels:u??s,stacking:l});return b.length,(0,r.jsx)(ea,{type:e,xAxisOptions:p,yAxisOptions:m,series:b,plotOptions:C,...o})};eS.displayName="BaseAreaChart";let e_=e=>(0,r.jsx)(eS,{...e,type:"area"});e_.displayName="AreaChart";let ek=e=>(0,r.jsx)(eS,{...e,type:"areaspline"});ek.displayName="AreaSplineChart";let eD={Solid:"solid",ShortDash:"dashed"},ew=(e,a=!1)=>!1===a?[`var(--display-${e}-scale-8)`,`var(--display-${e}-scale-4)`,`var(--display-${e}-scale-2)`,`var(--display-${e}-scale-1)`,`var(--display-${e}-scale-0)`]:[`var(--display-${e}-scale-9)`,`var(--display-${e}-scale-5)`,{linearGradient:{x1:0,x2:0,y1:1,y2:0},stops:[[.15,`var(--display-${e}-scale-1)`],[.45,`var(--display-${e}-scale-2)`],[1,`var(--display-${e}-scale-4)`]]},{linearGradient:{x1:0,x2:0,y1:1,y2:0},stops:[[0,`var(--display-${e}-scale-0)`],[1,`var(--display-${e}-scale-1)`]]},`var(--display-${e}-scale-0)`],ej={pine:et.pine,teal:et.teal,cyan:et.cyan,blue:et.blue,indigo:et.indigo,purple:et.purple,orange:et.orange},eA=({type:e,options:a,series:t,stacking:l,labels:i,colors:s,theme:o,overrideOptionsNotRecommended:n,...d})=>{let{xAxis:c,yAxis:h,plot:u}=a??{},[p]=(0,er.M)(ec,!1),[m]=(0,er.M)(ep,void 0),C=m??i,y=(0,b.useMemo)(()=>E({xAxis:c,gridLineWidth:0}),[c]),g=(0,b.useMemo)(()=>((e,a,t=!1)=>ew(a,t).slice(0,e).reverse())(t?.length??0,o??"green",p),[o,t,p]),v=(0,b.useMemo)(()=>(t?.length??0)>1,[t]),x=(0,b.useMemo)(()=>q({yAxis:h,gridLineDashStyle:"Dash"}),[h]),f=(0,b.useMemo)(()=>t?.map((e,a)=>{l&&e.colorByPoint&&console.warn("Stacking is enabled, colorByPoint will be set to false for all series.");let t=JSON.stringify(g[a])===JSON.stringify(ew(o??"green",p)[3]),r=JSON.stringify(g[a])===JSON.stringify(ew(o??"green",p)[4]);return{...e,colorByPoint:!l&&e.colorByPoint,dashStyle:v&&!0===p?t?"ShortDash":r?"Solid":void 0:"Solid",borderColor:v&&(t&&!0===p||r&&!0===p)?`var(--display-${o??"green"}-scale-5)`:void 0}}),[t,l,v,g,o,p]),S=(0,b.useMemo)(()=>G({series:f,type:e,hasDashStyle:!1}),[f,e]),_=(0,b.useMemo)(()=>J({plotOptions:u,labels:C,stacking:l,noBorderRadius:!0}),[C,l,u]);S.length;let k=(0,b.useMemo)(()=>v?g:s?s.map(e=>`var(${et[e]})`):Object.keys(ej).map(e=>`var(${ej[e]})`),[s,v,g]);return(0,r.jsx)(ea,{type:e,xAxisOptions:y,yAxisOptions:x,series:S,plotOptions:_,colors:k,overrideOptionsNotRecommended:{...n,legend:{useHTML:!0,symbolHeight:0,symbolWidth:0,labelFormatter(){var e,a;let t,r,l,i,s,o,n,d,c;return e=this.name,a=this.index,t=S[a]??{},r="square",l=k[a]??`var(--display-green-scale-${a})`,i=t.borderColor??void 0,o=Z({color:l,borderColor:i,borderShape:(s=t.dashStyle)?eD[s]:void 0,symbol:r}),n=`ChartCardSymbol-${r}`,d=`<span class="${F.ChartCardSymbol} ${F[n]}" style="${o}"></span>`,c=`<span>${e}</span>`,`${d} ${c}`},...n?.legend}},...d})};eA.displayName="BaseColumnChart";let eN=e=>(0,r.jsx)(eA,{...e,type:"column"});eN.displayName="ColumnChart";let eL=e=>(0,r.jsx)(eA,{...e,type:"bar"});function e$({children:e}){return(0,r.jsx)(d.l.Body,{className:F.ChartCardDialogBody,children:e})}function eO({size:e="medium",border:a,padding:t="normal",visibleControls:v,visibleChartOptions:x=!0,className:k,children:D,chartRef:w}){let j=v??"sparkline"!==e,A=a??"sparkline"!==e,[N,...L]=(0,c.H)(D,{leadingVisual:y,title:f,description:S,trailingVisual:_,chart:ea}),[$,O]=(0,b.useState)(""),[z,M]=(0,b.useState)(""),T=(0,l.L)(w),V=T.current?.chart?.options||{},B=V.chart?.type,R=(0,b.useMemo)(()=>({title:$,setTitle:O,description:z,setDescription:M,size:e,chartRef:T}),[$,O,z,M,e,T]),W=(0,b.useRef)(null),[I,P]=(0,b.useState)(),H=(0,b.useCallback)(()=>P(!0),[]),E=(0,b.useCallback)(()=>P(!1),[]),[q,G]=(0,b.useState)(!1),J=(0,b.useCallback)(()=>G(!0),[]),Z=(0,b.useCallback)(()=>G(!1),[]);(0,b.useEffect)(()=>{!1===I&&W.current?.focus()},[I]);let K=(0,b.useCallback)(()=>{let e=new Set;return a=>{let t=a.replace(/\./g,"_"),r=0,l=t;for(;e.has(l);)r++,l=`${t}_${r}`;return e.add(l),l}},[]),U=(0,b.useCallback)(()=>{if(!T.current?.chart)return[];let e=T.current.chart.getDataRows()[0],a=K();return e.map(e=>({originalLabel:e,sanitizedField:a(e)}))},[T,K]),X=(0,b.useCallback)(()=>{if(!T.current?.chart)return[];let[,...e]=T.current.chart.getDataRows(),a=U();return e.map((e,t)=>e.reduce((e,r,l)=>({...e,id:t,[a[l]?.sanitizedField||`field_${l}`]:r}),{}))},[T,U]),Y=(0,b.useCallback)(()=>T.current?.chart?U().map((e,a)=>({header:e.originalLabel,field:e.sanitizedField,rowHeader:0===a})):[],[T,U]),Q=(0,b.useCallback)(()=>T.current?.chart?.downloadCSV(),[T]),ee=(0,b.useCallback)(()=>{T.current?.chart.update({exporting:{chartOptions:{caption:{text:z}}}});let e=JSON.stringify(T.current?.chart?.userOptions,(e,a)=>"string"==typeof a?a.replace(/var\(--([^,)]+)[,)]+/g,(e,a)=>getComputedStyle(T.current?.container.current??document.body).getPropertyValue(`--${a}`).trim()):a);T.current?.chart?.exportChartLocal({type:"image/png"},JSON.parse(e))},[T,z]),et=null,er=(0,b.useMemo)(()=>(0,g.A)({},N.chart?.props?.overrideOptionsNotRecommended||{},{accessibility:{screenReaderSection:{onViewDataTableClick:H}}}),[N.chart?.props?.overrideOptionsNotRecommended,H]);N.chart&&(et=(0,b.cloneElement)(N.chart,{overrideOptionsNotRecommended:er}));let el=(0,b.useMemo)(()=>!!(N.leadingVisual||N.trailingVisual||j||N.title||N.description),[N.leadingVisual,N.trailingVisual,j,N.title,N.description]);return(0,r.jsxs)(C,{value:R,children:[(0,r.jsxs)(n.az,{className:k,sx:{...A?{borderWidth:"1px",borderStyle:"solid",borderColor:"border.default",borderRadius:2}:{},p:"none"===t?0:`var(--stack-padding-${t})`},...(0,m.G)("chart-card"),children:[(0,r.jsxs)(n.az,{sx:{display:el?"flex":"none",mb:3*("sparkline"!==e)},className:F.ChartCardHeaderContainer,children:[(0,r.jsxs)("div",{className:F.ChartCardContentContainer,children:[(0,r.jsx)(n.az,{sx:{mr:2*!!N.leadingVisual},className:F.ChartCardLeadingVisualContainer,children:N.leadingVisual}),(0,r.jsxs)("div",{children:[N.title,N.description]})]}),(0,r.jsxs)("div",{className:F.ChartCardActionsContainer,children:[(0,r.jsx)(n.az,{sx:{mr:2*!!N.leadingVisual},children:N.trailingVisual}),j&&(0,r.jsxs)(i.W,{anchorRef:W,children:[(0,r.jsx)(i.W.Anchor,{children:(0,r.jsx)(s.K,{"aria-label":"Chart options",icon:p.KebabHorizontalIcon,variant:"invisible",size:"small"})}),(0,r.jsx)(i.W.Overlay,{width:"auto",children:(0,r.jsxs)(o.l,{children:[(0,r.jsx)(o.l.Item,{onSelect:H,children:"View as table"}),(0,r.jsx)(o.l.Item,{onSelect:Q,children:"Download CSV"}),(0,r.jsx)(o.l.Item,{onSelect:ee,children:"Download PNG"})]})})]}),!N.chart&&x&&(0,r.jsx)(s.K,{"aria-label":"Customization settings",icon:p.GearIcon,variant:"invisible",size:"small",onClick:()=>J()})]})]}),et??L]}),I&&(0,r.jsx)(d.l,{title:$,onClose:E,footerButtons:[{buttonType:"default",content:"Download CSV",onClick:Q}],renderBody:e$,children:(0,r.jsx)(h.X.Container,{className:F.ChartCardTableContainer,children:(0,r.jsx)(u.b,{data:X(),columns:Y()})})}),q&&(0,r.jsx)(eb,{chartType:B,onCloseCallback:Z})]})}eL.displayName="BarChart",e$.displayName="DialogBodyWithoutPadding",eO.displayName="ChartCard";let ez=Object.assign(eO,{LeadingVisual:y,Title:f,Description:S,TrailingVisual:_,Chart:ea,LineChart:eg,ColumnChart:eN,BarChart:eL,AreaChart:e_,AreaSplineChart:ek,SplineChart:ev,Context:C})}}]);
//# sourceMappingURL=921-22cfa3f9fcddb2bc-35d6adf3d09e57c2.js.map